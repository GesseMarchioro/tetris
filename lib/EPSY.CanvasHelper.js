EPSY.CanvasHelper=function(a){this.lastTimestamp=Date.now(),this.emitters=[],this.canvasRenderer=new EPSY.CanvasRenderer(a)},EPSY.CanvasHelper.prototype.draw=function(){var a=(new Date).getTime(),b=a-(this.lastTimestamp||a);this.lastTimestamp=a,b/=1e3;for(var c=0;c<this.emitters.length;c++){var d=this.emitters[c];d&&(d.update(b),this.canvasRenderer.render(d))}},EPSY.CanvasHelper.prototype.createEmitter=function(a,b,c){var d=new EPSY.Emitter(a);return void 0!=b&&(d.settings.pos.x=b),void 0!=c&&(d.settings.pos.y=c),d.restart(),this.emitters.push(d),d},EPSY.CanvasHelper.prototype.loadSystem=function(a,b,c){b=b||0,c=c||0;var d;d="string"==typeof a?JSON.parse(a):"object"!=typeof a||a instanceof Array?a:[a];for(var e=0;e<d.length;e++){var a=d[e];a.pos.x+=b,a.pos.y+=c,this.createEmitter(a)}};